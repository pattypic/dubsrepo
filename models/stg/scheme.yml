version: 2

models:
  - name: extracted_cities_with_density
    description: "Staging: extracted city‐level demographics"
    columns:
      - name: state
        description: "State name"
        tests:
          - not_null
      - name: city
        description: "City name"
        tests:
          - not_null
      - name: population_density
        description: "Population density per unit area"
      - name: _data_source
        description: "Original source system or file"
      - name: _load_time
        description: "Timestamp when the record was loaded"

  - name: zillow_1BR
    description: "Staging: Zillow one‑bedroom data"
    columns:
      - name: indicator
        description: "Name of the metric (e.g. median price)"
        tests:
          - not_null
      - name: region
        description: "Region identifier"
        tests:
          - not_null
      - name: date
        description: "Date of the measurement"
        tests:
          - not_null
      - name: value
        description: "Value of the metric"
      - name: _data_source
        description: "Original source system"
      - name: _load_time
        description: "Ingestion timestamp"

  - name: zillow_2BR
    description: "Staging: Zillow two‑bedroom data"
    columns:
      - name: indicator
        tests: [ not_null ]
      - name: region
        tests: [ not_null ]
      - name: date
        tests: [ not_null ]
      - name: value
      - name: _data_source
      - name: _load_time

  - name: zillow_3BR
    description: "Staging: Zillow three‑bedroom data"
    columns:
      - name: indicator
        tests: [ not_null ]
      - name: region
        tests: [ not_null ]
      - name: date
        tests: [ not_null ]
      - name: value
      - name: _data_source
      - name: _load_time

  - name: zillow_4BR
    description: "Staging: Zillow four‑bedroom data"
    columns:
      - name: indicator
        tests: [ not_null ]
      - name: region
        tests: [ not_null ]
      - name: date
        tests: [ not_null ]
      - name: value
      - name: _data_source
      - name: _load_time

  - name: zillow_5BR
    description: "Staging: Zillow five‑bedroom data"
    columns:
      - name: indicator
        tests: [ not_null ]
      - name: region
        tests: [ not_null ]
      - name: date
        tests: [ not_null ]
      - name: value
      - name: _data_source
      - name: _load_time

  - name: zillow_indicators
    description: "Staging: list of Zillow indicators and their metadata"
    columns:
      - name: indicator_id
        description: "Unique identifier for each indicator"
        tests:
          - not_null
          - unique
      - name: indicator
        description: "Name of the indicator (e.g., median_price, sale_count)"
        tests:
          - not_null
      - name: category
        description: "Category grouping for the indicator"
        tests:
          - not_null
      - name: _data_source
        description: "Original source system or file"
      - name: _load_time
        description: "Timestamp when the record was loaded"

  - name: zillow_regions
    description: "Staging: mappings of regions to cities, metro‑areas, and counties."
    columns:
      - name: region
        description: "Region identifier"
        tests:
          - not_null
      - name: region_type
        description: "Type of region (e.g., city, metro, county)"
        tests:
          - not_null
      - name: city
        description: "City name"
      - name: state
        description: "State name"
        tests:
          - not_null
      - name: metro_area
        description: "Metropolitan area name"
      - name: county
        description: "County name"
      - name: _data_source
        description: "Original source system or file"
      - name: _load_time
        description: "Timestamp when the record was loaded"
